# ==============================================
# TalentFlow AI - API Gateway
# Environment Configuration
# ==============================================

# ======================
# Application
# ======================
# Environment: development | production | test
NODE_ENV=development

# Server port
PORT=3000

# ======================
# Database
# ======================
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/talentflow_dev

# ======================
# Redis (Cache only)
# ======================
# Redis connection string (for caching, sessions)
# Format: redis://host:port or redis://user:password@host:port
REDIS_URL=redis://localhost:6379

# ======================
# RabbitMQ (Message Queue)
# ======================
# RabbitMQ connection string (for inter-service communication)
# Format: amqp://user:password@host:port
RABBITMQ_URL=amqp://rabbitmq:rabbitmq@localhost:5672

# ======================
# JWT Authentication
# ======================
# Secret key for signing access tokens (MUST be >=16 characters in production)
JWT_ACCESS_SECRET=your-access-secret-change-in-production-min-16-chars

# Secret key for signing refresh tokens (MUST be >=16 characters in production)
JWT_REFRESH_SECRET=your-refresh-secret-change-in-production-min-16-chars

# Access token expiration (e.g., 15m, 1h, 1d)
JWT_ACCESS_EXPIRATION=15m

# Refresh token expiration (e.g., 7d, 30d)
JWT_REFRESH_EXPIRATION=7d

# ======================
# Cloudflare R2 Storage
# ======================
# S3-compatible endpoint (MinIO local / R2 custom endpoint)
# Example local: http://localhost:9000
R2_ENDPOINT=

# Cloudflare account ID (used when R2_ENDPOINT is empty)
R2_ACCOUNT_ID=

# R2 access key ID
R2_ACCESS_KEY_ID=

# R2 secret access key
R2_SECRET_ACCESS_KEY=

# R2 bucket name
R2_BUCKET=talentflow-cvs

# Public URL for R2 bucket (optional, for public file access)
R2_PUBLIC_URL=

# ======================
# Rate Limiting
# ======================
# Time window in seconds for rate limiting
RATE_LIMIT_TTL_SEC=60

# Maximum requests per time window
RATE_LIMIT_MAX=100

# ======================
# Security & Performance
# ======================
# Maximum request body size in megabytes
BODY_LIMIT_MB=10

# Request timeout in milliseconds
TIMEOUT_MS=15000

# Allowed CORS origins (comma-separated)
# Example: http://localhost:3001,https://app.talentflow.ai
CORS_ORIGINS=http://localhost:3001,http://localhost:3000

# ======================
# Observability (Optional)
# ======================
# Log level: error | warn | log | debug | verbose
# LOG_LEVEL=log

# Sentry DSN for error tracking
# SENTRY_DSN=

# ELK/Logstash host for centralized logging
# ELK_HOST=

# Prometheus pushgateway (if using push mode instead of scrape)
# PROMETHEUS_PUSHGATEWAY=
